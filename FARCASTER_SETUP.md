# Настройка интеграции с Farcaster

## Проблема
Интеграция с Farcaster не работает из-за неправильной настройки API ключа.

## Решение

### 1. Получите API ключ Neynar
1. Перейдите на https://neynar.com
2. Зарегистрируйтесь или войдите в аккаунт
3. Создайте новый API ключ в разделе API Keys

### 2. Настройте переменные окружения
Создайте файл `.env.local` в корне проекта:

```env
# Farcaster API Configuration
VITE_NEYNAR_API_KEY=ваш_реальный_api_ключ_здесь
VITE_FARCASTER_MOCK=false
```

**Примечание:** 
- Используйте `.env.local` вместо `.env` - этот файл игнорируется git и не попадет в репозиторий
- Если файл `.env.local` не существует, создайте его вручную
- Замените `your_neynar_api_key_here` на ваш реальный API ключ

### 3. Установите зависимости
```bash
npm install
```

### 4. Проверьте конфигурацию
```bash
npm run check-config
```

### 5. Запустите приложение
```bash
npm run dev
```

## Отладка

### Проверка режима работы
Откройте консоль браузера (F12) и найдите сообщения:
```
Farcaster mode check: {
  VITE_FARCASTER_MOCK: "false",
  NEYNAR_API_KEY: "***1234",
  mockMode: false,
  noApiKey: false,
  isMockMode: false
}
```

### Возможные ошибки

1. **"Неверный API ключ Neynar"**
   - Проверьте правильность API ключа в `.env` файле
   - Убедитесь, что ключ активен на neynar.com

2. **"API ключ не имеет доступа к эндпоинту"**
   - Проверьте права доступа API ключа
   - Убедитесь, что ключ имеет доступ к Farcaster API

3. **"Превышен лимит запросов"**
   - Подождите некоторое время
   - Проверьте лимиты вашего тарифного плана

### Mock режим
Для тестирования без API ключа установите:
```env
VITE_FARCASTER_MOCK=true
```

## Структура API

Приложение использует следующие эндпоинты Neynar:
- `GET /farcaster/user/bulk-by-address` - получение профиля пользователя
- `POST /farcaster/cast` - публикация кастов
- `GET /farcaster/feed/cast` - получение ответов на касты
