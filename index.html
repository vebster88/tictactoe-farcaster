<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>TicTacToe Farcaster · dApp</title>
    <meta name="description" content="Крестики-нолики с интеграцией Farcaster. Играйте против ИИ или других игроков прямо в Warpcast!" />
    <meta name="keywords" content="tic-tac-toe, game, farcaster, dapp, ai, multiplayer" />
    <meta name="author" content="vebster88" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="/api/icon-png?size=32">
    <link rel="icon" type="image/png" sizes="16x16" href="/api/icon-png?size=16">
    <link rel="icon" type="image/png" sizes="192x192" href="/api/icon-png?size=192">
    <link rel="icon" type="image/png" sizes="512x512" href="/api/icon-png?size=512">
    <link rel="icon" type="image/png" sizes="1024x1024" href="/api/icon-png?size=1024">
    <link rel="apple-touch-icon" sizes="180x180" href="/api/icon-png?size=180">
    <link rel="shortcut icon" href="/api/icon-png?size=32">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://tiktaktoe-farcaster-dun.vercel.app/" />
    <meta property="og:title" content="TicTacToe Farcaster · dApp" />
    <meta property="og:description" content="Крестики-нолики с интеграцией Farcaster. Играйте против ИИ или других игроков прямо в Warpcast!" />
    <meta property="og:image" content="https://tiktaktoe-farcaster-dun.vercel.app/tictactoe-icon-1024.png" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://tiktaktoe-farcaster-dun.vercel.app/" />
    <meta property="twitter:title" content="TicTacToe Farcaster · dApp" />
    <meta property="twitter:description" content="Крестики-нолики с интеграцией Farcaster. Играйте против ИИ или других игроков прямо в Warpcast!" />
    <meta property="twitter:image" content="https://tiktaktoe-farcaster-dun.vercel.app/tictactoe-icon-1024.png" />
    
    <!-- Preconnect to Quick Auth server for better performance -->
    <link rel="preconnect" href="https://auth.farcaster.xyz" />
    
    <!-- Farcaster Mini App Embed -->
    <meta name="fc:miniapp" content='{"version":"1","imageUrl":"https://tiktaktoe-farcaster-dun.vercel.app/tictactoe-icon-1024.png","button":{"title":"🎮 Играть","action":{"type":"launch_miniapp","name":"Krestiki-Noliki","url":"https://tiktaktoe-farcaster-dun.vercel.app/","splashImageUrl":"https://tiktaktoe-farcaster-dun.vercel.app/splash-screen.png","splashBackgroundColor":"#0a0a0f"}}}' />
    
    <link rel="stylesheet" href="/styles.css" />
    <link rel="manifest" href="/manifest.webmanifest" />
    <meta name="theme-color" content="#111111" />
    <link rel="icon" href="/favicon.ico" />
  </head>
  <body data-theme="light">
    <header class="app-header">
      <h1 aria-live="polite">Krestiki Noliki <button id="logo" class="logo-btn" type="button" aria-label="Показать логотип"><img src="/assets/images/hero.jpg" alt="vebster88" /></button> <span id="app-version" class="app-version" title="Версия приложения">v1.12</span></h1>
      <nav class="top-actions" aria-label="Actions">
        <button id="btn-new" class="btn" type="button">Новая игра</button>
        <select id="mode" aria-label="Режим">
          <option value="pve-easy">PvE — Лёгкий</option>
          <option value="pve-hard">PvE — Хард</option>
          <option value="pvp-local">PvP — Локально</option>
          <option value="pvp-farcaster">PvP — Farcaster</option>
        </select>
        <button id="btn-theme" class="btn" type="button" aria-pressed="false">Тема</button>
        <button id="btn-dev-toggle" class="btn" type="button" title="Включить режим разработчика">⚙️</button>
        <select id="lang" aria-label="Язык">
          <option value="ru" selected>RU</option>
          <option value="en">EN</option>
        </select>
       <button id="btn-auth" class="btn" type="button">Войти</button> 
       <span id="user-label" aria-live="polite"></span>
       
       <!-- Основные игровые кнопки -->
       <button id="btn-invite" class="btn" type="button" style="display: none;">Создать матч</button>
       <button id="btn-publish-result" class="btn" type="button" disabled style="display: none;">Опубликовать результат</button>
       
       <!-- Технические кнопки (скрыты по умолчанию) -->
       <div id="dev-controls" style="display: none;">
         <button id="btn-create-signer" class="btn" type="button">Создать Signer</button>
         <button id="btn-check-replies" class="btn" type="button">Проверить ответы</button>
       </div> </nav>
    </header>

    <main class="app-main">
      <section class="score" aria-label="Счёт">
        <div>X: <span id="score-x">0</span></div>
        <div>O: <span id="score-o">0</span></div>
        <div>≡: <span id="score-draw">0</span></div>
      </section>

      <section class="board" id="board" role="grid" aria-label="Игровое поле 3×3" aria-live="polite">
        <!-- 9 клеток -->
        <button class="cell" role="gridcell" data-cell="0" aria-label="Пусто" aria-pressed="false"></button>
        <button class="cell" role="gridcell" data-cell="1" aria-label="Пусто" aria-pressed="false"></button>
        <button class="cell" role="gridcell" data-cell="2" aria-label="Пусто" aria-pressed="false"></button>
        <button class="cell" role="gridcell" data-cell="3" aria-label="Пусто" aria-pressed="false"></button>
        <button class="cell" role="gridcell" data-cell="4" aria-label="Пусто" aria-pressed="false"></button>
        <button class="cell" role="gridcell" data-cell="5" aria-label="Пусто" aria-pressed="false"></button>
        <button class="cell" role="gridcell" data-cell="6" aria-label="Пусто" aria-pressed="false"></button>
        <button class="cell" role="gridcell" data-cell="7" aria-label="Пусто" aria-pressed="false"></button>
        <button class="cell" role="gridcell" data-cell="8" aria-label="Пусто" aria-pressed="false"></button>
      </section>

      <section class="status" aria-live="polite" id="status">Ход: X</section>
    </main>

    <div id="toasts" class="toasts" aria-live="polite" aria-atomic="true"></div>
    
    <div id="logo-modal" class="modal" role="dialog" aria-hidden="true" aria-labelledby="logo-modal-title">
      <div class="modal-content">
        <button class="modal-close" aria-label="Закрыть">&times;</button>
        <h2 id="logo-modal-title">vebster88</h2>
        <img src="/assets/images/hero.jpg" alt="Медведь-киберпанк, ник vebster88" />
      </div>
    </div>

    <!-- Debug status indicator for Mini App -->
    <div id="debug-status" style="position: fixed; bottom: 10px; right: 10px; background: rgba(0,0,0,0.85); color: #00ff00; padding: 12px 16px; border-radius: 8px; font-size: 11px; max-width: 320px; z-index: 10000; display: none; font-family: monospace; border: 1px solid rgba(0,255,0,0.3); box-shadow: 0 4px 12px rgba(0,0,0,0.5);">
      <div style="margin-bottom: 8px; font-weight: bold; color: #00ff00; border-bottom: 1px solid rgba(0,255,0,0.3); padding-bottom: 4px;">🔍 Debug Log</div>
      <div id="debug-status-content" style="max-height: 200px; overflow-y: auto;"></div>
      <button id="debug-close" onclick="document.getElementById('debug-status').style.display='none'" style="position: absolute; top: 8px; right: 8px; background: rgba(255,0,0,0.5); border: none; color: white; cursor: pointer; padding: 2px 6px; border-radius: 3px; font-size: 10px;">✕</button>
    </div>

    <script type="module" src="/src/app.js"></script>
  </body>
</html>






